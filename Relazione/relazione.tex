\documentclass[a4paper, 11pt]{article}
\usepackage{geometry}
\usepackage{float}
\usepackage{longtable}
\usepackage[table,xcdraw]{xcolor}
\usepackage{float}
 \geometry{
 a4paper,
 left=25mm,
 right=25mm,
 top=20mm,
 bottom=20mm,
 }
 
\setlength{\parskip}{1em}
\setlength{\parindent}{0pt}

\title{Progetto TecWeb \\ Véro}

\author{Alberto,Alessio,Matteo}
\date{Settembre 2023}
\begin{document}


\begin{center}
	\textbf{\Huge{Véro}}
\end{center}

\vspace{5pt}

\begin{center}
	\textbf{\Large{Gruppo}}
    \begin{table}[H]
        \hspace{3.5cm}
        \renewcommand{\arraystretch}{1.4}
        \begin{tabular}{l | l}
            \textbf{Componenti} & Barraco Alessio 2008654\\
            & Michelazzo Alberto 2010007\\
            & Vignaga Matteo 1201147\\
        \end{tabular}
    \end{table}
\end{center}


\begin{center}
	\textbf{\Large{Informazioni sul sito}}\\
	\vspace{4pt}
	%\textbf{Login consegna:} abarraco \\
	\textbf{Indirizzo sito:} http://tecweb.studenti.math.unipd.it/abarraco \\
	\textbf{Indirizzo sito (SSH):} http://localhost:8080/abarraco \\
	\textbf{Email referente gruppo:} alessio.barraco@studenti.unipd.it \\
    \vspace{1cm}
    \textbf{Accessi interni al sito}
    \begin{longtable}{|l|l|l|}
        \hline
        {Ruolo} & {Username} & {Password} \\ \hline
        Utente         & user     & user     \\ \hline
        Amministratore & admin    & admin \\ \hline
    \end{longtable}
    Per completezza, sono riportati anche ulteriori utenti che hanno lo stesso ruolo di \textit{user}, non aggiungono funzionalità e sono stati usati al solo fine di popolare il database.
    \begin{longtable}{|l|l|l|}
        \hline
        {Ruolo} & {Username} & {Password} \\ \hline
        Utente         & Mario1     & Mario1     \\ \hline
        Utente & Tizio1    & Tizio1 \\ \hline
    \end{longtable}
\end{center}

\pagebreak
\tableofcontents
\pagebreak


\section{Analisi}
\subsection{Descrizione}
L’idea di realizzare il sito deriva dalla visita di uno dei componenti del gruppo all’Isola di Murano a Venezia, famosa per la lavorazione del vetro. \\
Si è quindi deciso di creare un sito che svolga la funzione di vetrina per l’azienda fittizia Véro. Lo scopo è quello di mostrare i prodotti ai visitatori del sito e consentire ad eventuali clienti di mettersi in contatto per ulteriori informazioni. 


\subsection{Analisi target d'utenza}\label{analisi_utenza}
L’utenza del sito spazia in tutte le categorie anche se è presumibile che venga rappresentata soprattutto da maggiorenni, considerati i prodotti proposti. \\
Gli articoli sono caratterizzati da un importante valore economico e da un gusto elegante e ricercato, quindi generalmente apprezzati da un pubblico adulto.
\vspace{10pt}

Sono state individuate tre tipologie di utenti:
\begin{itemize}
\item \textbf{Utente generico:} utente che non è registrato
\item \textbf{Utente registrato:} utente che ha eseguito l'accesso
\item \textbf{Amministratore:} utente che ha eseguito l'accesso, dispone di elevati privilegi per gestire il sito
\end{itemize}

\subsection{Funzionalità}
Le funzionalità offerte agli utenti sono:
\begin{itemize}
\item Utente generico:
	\begin{itemize}
	\item Visualizzare i prodotti proposti
	\item Richiedere informazioni
	\item Registrarsi
	\item Effettuare l'accesso se già registrato
	\end{itemize}
	
\item Utente registrato:
	\begin{itemize}
	\item Visualizzare i prodotti proposti
	\item Richiedere informazioni
	\item Aggiungere e rimuovere prodotti alla Lista dei desideri
	\item Visualizzare la Lista dei desideri
	\item Modificare la password
	\item Eliminare il profilo
	\end{itemize}

\pagebreak
\item Amministratore:
	\begin{itemize}
	\item Visualizzare i prodotti proposti
        \item Accesso a Contatti
	\item Visualizzare ed eliminare utenti registrati
	\item Aggiungere, modificare, eliminare prodotti
	\item Aggiungere, modificare, eliminare categorie
	\item Visualizzare, segnare come lette, eliminare le richieste di informazioni
	\end{itemize}
	
\end{itemize}


\subsection{Ricerche}
L’insieme delle possibili ricerche è contraddistinto da 4 caratteristiche principali:
\begin{itemize}
    \item legate al marchio: Véro
    \item legate al luogo: Murano
    \item legate al materiale: vetro
    \item legate al prodotto: tutti i vari prodotti esposti
\end{itemize}
Quindi possono crearsi ricerche quali, ad esempio: Lampadario di vetro Murano, Véro Murano, Bracciale Murano, vetro Murano… 

Inoltre, le maggiori accortezze per quel che riguarda l’accessibilità rispetto alla concorrenza, ci consentono di essere premiati dai motori di ricerca. 


\section{Progettazione}
\subsection{Struttura del sito}

La pagina è strutturata in header, main e footer. L’header contiene il riferimento per passare all’inizio del contenuto, il titolo, il menù e la breadcrumb. Il marchio di Véro viene utilizzato per realizzare image replacement nell'header.

\subsubsection{Menù}
Il menù è composto da Home, Prodotti, Contatti e Area Riservata.

L’utente registrato e l’amministratore, invece di Area Riservata, hanno un pulsante che estende il menù con le funzioni specifiche a seconda della tipologia di utente.

Utente registrato ha accesso a Profilo e Lista dei desideri; Amministratore ha accesso a Utenti, Catalogo e Messaggi; entrambi hanno la possibilità di uscire dalla sessione.

Il menù non eccede né in larghezza né in profondità.

\subsubsection{Footer}
All'interno del footer è stata inserita una piccola descrizione riguardante l'azienda \textit{Véro}

\subsection{Funzionalità singole pagine}

Verranno ora illustrate le funzionalità delle varie pagine presenti all'interno del sito:
\begin{itemize}
	\item \textbf{Home:} \textit{[utente generico, utente registrato, amministratore]} \\
	Pagina di presentazione del sito con lo scopo di far conoscere l'azienda Véro. \\
	È dotato di carosello che, se cliccato, invia al prodotto visualizzato.
\end{itemize}
Per la gestione dei Prodotti si è deciso di strutturare la seguente gerarchia: \\
\textit{Elenco categorie} $\rightarrow$ \textit{Elenco prodotti categoria} $\rightarrow$  \textit{Prodotto in dettaglio}
\begin{itemize}
	\item \textbf{Elenco categorie:}  \textit{[utente generico, utente registrato, amministratore]} \\
	Viene mostrato l’elenco delle categorie. Cliccando sulla categoria viene visualizzato l’elenco dei prodotti.

 	\item \textbf{Elenco prodotti:} \textit{[utente generico, utente registrato, amministratore]} \\
 	Viene mostrato l’elenco dei prodotti di una categoria specifica. Cliccando sul prodotto si ottiene la pagina del prodotto.
 	
 	\item \textbf{Prodotto in dettaglio:} \textit{[utente generico, utente registrato, amministratore]} \\
 	Viene mostrato il prodotto nel dettaglio. \\
 	\textit{[utente generico, utente registrato]} \\
 	Possibilità di richiedere direttamente informazioni. \\
	\textit{[utente registrato]} \\
	Possibilità di aggiungere o togliere dalla Lista dei desideri.
	
	\item \textbf{Contatti:} \textit{[utente registrato, amministratore]} \\
	Invio dei messaggi. \\
	\textit{[Utente generico]} \\
	Invio dei messaggi previo inserimento di indirizzo email.
	
	\item \textbf{Profilo:}	\textit{[utente registrato]} \\
	Possibilità di cambiare la password o eliminare il profilo.
	
	\item \textbf{Lista dei Desideri:}	\textit{[utente registrato]} \\
	Visualizzare la Lista dei desideri.  \\
	Possibilità di inoltro all’Elenco categorie di quel prodotto, al Prodotto in dettaglio, \\
	Contatti per quel prodotto o eliminarlo dalla lista.

	\item \textbf{Utenti:} \textit {[amministratore]} \\
	Visualizzare ed eliminare gli utenti registrati.
	
   \item \textbf{Messaggi:} \textit{[amministratore]} \\
   Visualizzare, segnare come lette, eliminare le richieste di informazioni pervenute.
   
	\item \textbf{Catalogo prodotti:} \textit{[amministratore]} \\
	Visualizzare l’elenco dei prodotti. \\
   Possibilità di accedere a Lista categorie, Modifica prodotto, Creazione prodotto.

	\item \textbf{Lista categorie:} \textit{[amministratore]} \\
	Visualizzare l’elenco delle categorie.\\
	Possibilità di tornare a Catalogo, accedere a Modifica categorie e Creazione nuova categoria.

	\item \textbf{Modifica prodotto:} \textit {[amministratore]} \\
	Eliminare il prodotto o modificare il nome, la categoria e la descrizione. \\
	Aggiungere o rimuovere le immagini associate e relative alternative testuali. 

	\item \textbf{Creazione prodotto:} \textit {[amministratore]} \\
	Inserire il nome, la categoria e la descrizione del prodotto.

	
	\item \textbf{Modifica categorie:} \textit {[amministratore]} \\
	Eliminare la categoria o modificarne il nome e la descrizione.

	\item \textbf{Creazione nuova categoria:} \textit {[amministratore]} \\
	Inserire nome e descrizione della categoria.
	
\end{itemize}

\subsection{Divisione del lavoro:}
Purtroppo, a causa della rinuncia agli studi da parte di uno dei membri del gruppo originale poco dopo l'inizio dei lavori, il progetto è stato svolto da 3 persone. \\

Ogni persona che si è occupata di una pagina ha sviluppato sia il front-end che la parte back-end. \\
La suddivisione del lavoro è la seguente:

\begin{itemize}

\item \textbf{Alessio Barraco}
	\begin{itemize}
	\item Progettazione del sito web;
        \item Pagina prototipo e index;
        \item Iniziale sviluppo di login, registrazione, utenti;
        \item Individuazione 3 colori contrasto (link visitato, non visitato, sfondo);
        \item Header e footer;
        \item Pagine errori 404 e 500;
        \item Connessione al server e relativi errori;
        \item Redesign delle query;
        \item Sviluppo gestione dinamica della lingua;
        \item Validazione sito tramite Total Validator in laboratorio;
        \item Verifica del sito;
        \item Sviluppo dei fogli di stile CSS;
        \item Stesura e verifica della relazione;

	\end{itemize}

\pagebreak

\item \textbf{Alberto Michelazzo:}
	\begin{itemize}
		\item Progettazione del sito web;
		\item Pagina Contatti;
		\item Pagina Messaggi;
		\item Catalogo dei Prodotti e Categorie, \\ 
		con relativo sviluppo di tutte le funzioni PHP per Catalogo;
	  	\item Gestione delle immagini dei prodotti;
		\item Sviluppo della base di dati;
		\item Test sul corretto funzionamento lato server;
		\item Stesura della relazione;
	\end{itemize}
\item \textbf{Matteo Vignaga:}
	\begin{itemize}
		\item Progettazione del sito web;
		\item Pagina di Accesso;
		\item Pagina di Registrazione;
		\item Carosello immagini;
		\item Lista Categorie,
		\item Lista Prodotti;
		\item Prodotto;
		\item Lista dei Desideri;
		\item Profilo;
		\item JavaScript relativo a queste pagine;
		\item Sviluppo dei fogli di stile CSS;
		\item Iniziale sviluppo della base di dati
	\end{itemize}

	
Nonostante questa divisione, tutti i membri del gruppo hanno collaborato sotto tutti gli aspetti della realizzazione del sito, in particolare per quanto riguarda l'accessibilità dello stesso.
\end{itemize}

\pagebreak

\section{Realizzazione}

\subsection{HTML}
Per la realizzazione del sito è stato usato \textbf{HTML5} per via delle sue nuove funzionalità e una miglior garanzia di estensibilità futura del sito.

\subsection{CSS}
Per quanto riguarda il CSS è stato adottato un approccio \textbf{Mobile First} privilegiando la tendenza degli utenti a preferire la navigazione su dispositivi mobili rispetto ai desktop. \\
La versione desktop è stata quindi ottenuta da quella mobile cui sono state apportate delle modifiche tramite Media Queries. \\
È stato previsto anche un CSS per la stampa che va a rimuovere elementi quali il menu di navigazione e il footer per una maggiore fruibilità.

Verosimilmente, il target di utenti accede al sito attraverso dispositivi di moderna produzione e quindi in grado di supportare le recenti funzionalità sia HTML5 che CSS.

\subsection{JavaScript}
JavaScript è stato utilizzato per la validazione dei dati lato client inseriti dall’utente attraverso utilizzo di espressioni regolari.\\
Su registrazione e durante la modifica della password, mostra dinamicamente se i dati inseriti sono esatti o errati (ad esempio per la password la sua lunghezza o la presenza di numeri). \\
E’ stato inoltre utilizzato per mostrare il riquadro per la conferma dell’eliminazione di prodotto, categorie, profilo, ecc. \\


\subsection{Database}
Il database ha il compito di salvare a lungo termine e rendere velocemente fruibili tutti i dati delle parte dinamiche del sito. 

La tabella più importante del database è \textbf{Prodotti}, che contiene tutte le informazioni del singolo prodotto e la categoria a cui appartiene, quest’ultima salvata in un’altra tabella. \\
La tabella \textbf{Immagini} contiene le immagini dei vari prodotti oltre al testo alternativo per ogni immagine. \\
E’ presente una tabella \textbf{Tags} che contiene le keywords associate al singolo prodotto, queste vengono aggiunte durante la creazione del prodotto. \\
La tabella \textbf{Messaggi} contiene le varie richieste di informazioni da utenti registrati o non, con un eventuale prodotto associato.\\
La tabella \textbf{Utente} ospita i dati degli utenti ed è stato scelto come chiave primaria l’attributo username. 
Anche l’amministratore si trova all’interno, infatti è presente l’attributo ruolo che definisce i privilegi dell’utente. \\
La tabella \textbf{Wishlist} permette ad un utente (non amministratore) di salvare prodotti nella sua Lista dei Desideri.

\subsection{PHP}
Si è creata la classe PHP \textbf{DBAccess} che si occupa di astrarre tutte le operazioni di connessione e disconnessione al database, alleggerendo inoltre il carico di lavoro nella fase di creazione delle query.
Infatti la classe è in grado di gestire tutte le query e fornire i risultati o gli errori in base alla tipologia di richiesta (select, insert into, ecc.). \\
Le varie query sono state inserite all’interno della classe \textbf{Access} per favorire il riuso del codice.  \\
Tutte le query sono parametrizzate per evitare attacchi di tipo \textit{SQL Injection}.

\subsubsection{Autenticazione}
Per gestire l’autenticazione ci si è affidati alle session di PHP che memorizzano l’username e il ruolo. \\
Le varie pagine, caricate tramite PHP, verificheranno i permessi e quali contenuti mostrare, verificando i parametri della sessione. 

\subsubsection{Password}
Le password non vengono salvate in chiaro ma viene utilizzata una funzione di \textit{hashing} per garantire un buon livello di sicurezza (che utilizza l’algoritmo crittografico \textbf{bcrypt}, standard da PHP 5.5.0).

\subsubsection{GET e POST}
Per facilitare l’esperienza dell’utente, i prodotti sono raggiungibili tramite link diretto grazie all’utilizzo del metodo GET rendendo quindi possibile la creazione di bookmark. 

Tutte le richieste al server che contengono dati sensibili utilizzano il metodo POST, esempio di questi è il form per informazioni o tutta la parte relativa all’amministratore.

\subsubsection{Screen Reader}
Per garantire allo screen reader la corretta lettura delle parole è stata realizzata la funzione lang che ha il ruolo di sostituire dei segnaposti con lo span lang della lingua corretta. \\
Ciò è stato reso necessario nelle parti dinamiche in quanto non è possibile stabilire a priori la lingua che verrà utilizzata, perciò in determinati campi è possibile inserire i tag [lingua][\textbackslash lingua] che verranno poi trasformati in \texttt{<span lang =  "lingua”></span>}.

\pagebreak

\subsection{Accessibilità}

Tutto lo sviluppo del sito si è svolto tenendo conto delle raccomandazioni WCAG. 

Al fine di ridurre il disorientamento dell’utente è stata implementata una breadcrumb per fargli capire dove si trova e quale percorso ha fatto per raggiungere quella pagina. 
Per evitare link circolari l’ultimo elemento della breadcrumb (che indica la pagina attuale) è non cliccabile.

Si è tenuto conto dell'accessibilità prestando attenzione alle parole di lingua inglese come ad esempio \textit{Home}.

\subsubsection{Contrasto e Font}

Tutti i testi all'interno del sito hanno un contrasto che rispetta il livello AA del WCAG. Inoltre si è prestata particolare attenzione al contrasto dei link: non solo il testo del link contrasta con lo sfondo, ma anche il testo del link non visitato contrasta con il link visitato. \\
Per facilitare la lettura dei testi, si è utilizzato un font \textit{senza grazie} per la parte visibile a schermo, mentre quando si esegue una stampa il font viene modificato in uno con le \textit{grazie}. 

\subsubsection{Lingua}
Il sito specifica come lingua principale l’italiano, ma ogni parola che deve essere letta con pronuncia straniera è stata contrassegnata da un attributo lang, all’interno di un tag \texttt{<span>}. \\
Un esempio è tutta la parte riguardante il nome o la descrizione di un prodotto, che durante la sua creazione, in caso di parole di lingua straniera,  devono essere contrassegnate da [LINGUA]parola[\textbackslash LINGUA].

\subsubsection{Feedback}
Per aiutare l’utente, si è data importanza alla gestione dei feedback. 
In risposta a determinate operazioni viene informato sull’esito positivo o negativo. Inoltre ci sono controlli che forniscono in tempo reale indicazioni per la corretta esecuzione dell’operazione, come per esempio nella costruzione della password in fase di registrazione. 
Per alcune operazioni critiche, come quelle di eliminazione, sono previsti messaggi di conferma. 


\section{Testing}
Nello sviluppo del sito si è fatto uso delle estensioni Web Developer e Colour Contrast Checker, oltre che del sito Color11y. Il sito è stato allocato su XAMPP nelle macchine di ciascun componente del gruppo, inoltre sono stati fatti periodici sincronizzazioni e test con il server dell’Università. \\
Quando possibile, durante il ciclo di sviluppo, ci si è avvalsi del tool di testing Total Validator installato in LabP140. \\
%Quando l’accesso al laboratorio non era consentito, abbiamo utilizzato l’estensione per browser Wave che permetteva di effettuare test sull’accessibilità.
Nel tentativo di rendere il sito accessibile agli utilizzatori di screen reader, sono stati fatti alcuni test con Nvda e l'estensione per browser WAVE Evaluation Tool, allo scopo di facilitare la navigazione del sito.

Il sito è stato testato su Firefox e Chrome nei sistemi operativi Windows e Linux.


\end{document}